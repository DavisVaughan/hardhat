<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Molding data for modeling • hardhat</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Molding data for modeling">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hardhat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/forge.html">Forging data for predictions</a>
    </li>
    <li>
      <a href="../articles/mold.html">Molding data for modeling</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/DavisVaughan/hardhat">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Molding data for modeling</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DavisVaughan/hardhat/blob/master/vignettes/mold.Rmd"><code>vignettes/mold.Rmd</code></a></small>
      <div class="hidden name"><code>mold.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(hardhat)</a></code></pre></div>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>For most modeling functions, data must be accepted from the user in some format where the <em>outcomes</em> and <em>predictors</em> are both specified. The next step is often to validate and preprocess that input in some way to prepare it for the actual modeling implementation function. For example, when a formula method is used (i.e. terms are specified using <code>outcomes ~ predictors</code>), R provides some infrastructure for preprocessing the user input through the <code><a href="https://www.rdocumentation.org/packages/stats/topics/model.frame">model.frame()</a></code> and <code><a href="https://www.rdocumentation.org/packages/stats/topics/model.matrix">model.matrix()</a></code> functions.</p>
<p>But the formula method is not the only way to specify modeling terms. There is also an XY method, where <code>x</code> and <code>y</code> are supplied directly, and, recently, a <code>recipe</code> object can be used to preprocess data using a set of sequential steps.</p>
<p>As a developer, you likely won’t want to care about the details of how each of these methods work, but (hopefully) still want to provide all three of these interfaces for your shiny new model. <code><a href="../reference/mold.html">mold()</a></code> makes this easy on you, and takes care of the details of preprocessing user input from any of these methods.</p>
</div>
<div id="mold-by-example" class="section level2">
<h2 class="hasAnchor">
<a href="#mold-by-example" class="anchor"></a><code><a href="../reference/mold.html">mold()</a></code> By Example</h2>
<p>The intended use of <code><a href="../reference/mold.html">mold()</a></code> is to be called from your top level modeling function (the one that users will call). Suppose that we have such a function, <code>modeler()</code>, along with it’s core implementation <code>modeler_impl()</code>, and a constructor to make a new <code>"modeler"</code> object, <code>new_modeler()</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># Create a new `modeler` object</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">new_modeler &lt;-<span class="st"> </span><span class="cf">function</span>(y_mean) {</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">  </a>
<a class="sourceLine" id="cb2-4" data-line-number="4">  <span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/numeric">is.numeric</a></span>(y_mean)) {</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">    <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/stop">stop</a></span>(<span class="st">"`y_mean` must be numeric."</span>)</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">  }</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">  </a>
<a class="sourceLine" id="cb2-8" data-line-number="8">  elements &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">    <span class="dt">y_mean =</span> y_mean</a>
<a class="sourceLine" id="cb2-10" data-line-number="10">  )</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">  </a>
<a class="sourceLine" id="cb2-12" data-line-number="12">  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/structure">structure</a></span>(elements, <span class="dt">class =</span> <span class="st">"modeler"</span>)</a>
<a class="sourceLine" id="cb2-13" data-line-number="13">}</a>
<a class="sourceLine" id="cb2-14" data-line-number="14"></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co"># Implementation function</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16">modeler_impl &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {</a>
<a class="sourceLine" id="cb2-17" data-line-number="17">  </a>
<a class="sourceLine" id="cb2-18" data-line-number="18">  <span class="co"># core modeling implementation</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19">  </a>
<a class="sourceLine" id="cb2-20" data-line-number="20">  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(</a>
<a class="sourceLine" id="cb2-21" data-line-number="21">    <span class="dt">y_mean =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/mean">mean</a></span>(y)</a>
<a class="sourceLine" id="cb2-22" data-line-number="22">  )</a>
<a class="sourceLine" id="cb2-23" data-line-number="23">}</a>
<a class="sourceLine" id="cb2-24" data-line-number="24"></a>
<a class="sourceLine" id="cb2-25" data-line-number="25"></a>
<a class="sourceLine" id="cb2-26" data-line-number="26">modeler &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {</a>
<a class="sourceLine" id="cb2-27" data-line-number="27">  res &lt;-<span class="st"> </span><span class="kw">modeler_impl</span>(x, y)</a>
<a class="sourceLine" id="cb2-28" data-line-number="28">  <span class="kw">new_modeler</span>(<span class="dt">y_mean =</span> res<span class="op">$</span>y_mean)</a>
<a class="sourceLine" id="cb2-29" data-line-number="29">}</a></code></pre></div>
<p>You probably expect users to use <code>modeler()</code> like this:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># X and Y</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">x &lt;-<span class="st"> </span>iris</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">x<span class="op">$</span>Petal.Width &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">y &lt;-<span class="st"> </span>iris<span class="op">$</span>Petal.Width</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="kw">modeler</span>(x, y)</a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt; $y_mean</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt; [1] 1.199333</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt; attr(,"class")</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt; [1] "modeler"</span></a></code></pre></div>
<p>To use it with <code><a href="../reference/mold.html">mold()</a></code>, pass through the input</p>
<div id="mold" class="section level3">
<h3 class="hasAnchor">
<a href="#mold" class="anchor"></a><code><a href="../reference/mold.html">mold()</a></code>
</h3>
<p><code><a href="../reference/mold.html">mold()</a></code> readies input data for ingestion into a modeling function. It is to be called from the interface layer of your modeling package. For instance, if you have a top level function called <code>linear_regression()</code> that accepts input from the user, you would call <code><a href="../reference/mold.html">mold()</a></code> inside of <code>linear_regression()</code>, before passing on the input to the actual implementation function, which should be separated from the top level interface and might be called <code>linear_regression_impl()</code>.</p>
<p>If your modeling function has a formula interface, <code><a href="../reference/mold.html">mold()</a></code> will call <code><a href="https://www.rdocumentation.org/packages/stats/topics/model.frame">model.frame()</a></code> and <code><a href="https://www.rdocumentation.org/packages/stats/topics/model.matrix">model.matrix()</a></code> for you, storing important information such as the predictor factor levels and the class of each predictor and outcome column.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">iris_train &lt;-<span class="st"> </span>iris[<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>,]</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">iris_test &lt;-<span class="st"> </span>iris[<span class="dv">101</span><span class="op">:</span><span class="dv">150</span>,]</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">processed &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mold.html">mold</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Log">log</a></span>(Sepal.Length) <span class="op">~</span><span class="st"> </span>Species <span class="op">+</span><span class="st"> </span>Petal.Width, iris_train)</a></code></pre></div>
<p>The return value of <code><a href="../reference/mold.html">mold()</a></code> has three things. The <code>predictors</code>, the <code>outcomes</code>, and a <code>engine</code> that varies based on the interface you are using. Notice that the default behavior for <code><a href="../reference/mold.html">mold()</a></code> is to <em>not</em> add an intercept column. This is completely controlled by the <code>intercept</code> argument and not by the formula itself.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">processed<span class="op">$</span>predictors</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co">#&gt; # A tibble: 100 x 4</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">#&gt;    Speciessetosa Speciesversicolor Speciesvirginica Petal.Width</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt;            &lt;dbl&gt;             &lt;dbl&gt;            &lt;dbl&gt;       &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt;  1             1                 0                0         0.2</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt;  2             1                 0                0         0.2</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt;  3             1                 0                0         0.2</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt;  4             1                 0                0         0.2</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt;  5             1                 0                0         0.2</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt;  6             1                 0                0         0.4</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt;  7             1                 0                0         0.3</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt;  8             1                 0                0         0.2</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt;  9             1                 0                0         0.2</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt; 10             1                 0                0         0.1</span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt; # … with 90 more rows</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"></a>
<a class="sourceLine" id="cb5-17" data-line-number="17">processed<span class="op">$</span>outcomes</a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co">#&gt; # A tibble: 100 x 1</span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co">#&gt;    `log(Sepal.Length)`</span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="co">#&gt;                  &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"><span class="co">#&gt;  1                1.63</span></a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="co">#&gt;  2                1.59</span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="co">#&gt;  3                1.55</span></a>
<a class="sourceLine" id="cb5-24" data-line-number="24"><span class="co">#&gt;  4                1.53</span></a>
<a class="sourceLine" id="cb5-25" data-line-number="25"><span class="co">#&gt;  5                1.61</span></a>
<a class="sourceLine" id="cb5-26" data-line-number="26"><span class="co">#&gt;  6                1.69</span></a>
<a class="sourceLine" id="cb5-27" data-line-number="27"><span class="co">#&gt;  7                1.53</span></a>
<a class="sourceLine" id="cb5-28" data-line-number="28"><span class="co">#&gt;  8                1.61</span></a>
<a class="sourceLine" id="cb5-29" data-line-number="29"><span class="co">#&gt;  9                1.48</span></a>
<a class="sourceLine" id="cb5-30" data-line-number="30"><span class="co">#&gt; 10                1.59</span></a>
<a class="sourceLine" id="cb5-31" data-line-number="31"><span class="co">#&gt; # … with 90 more rows</span></a></code></pre></div>
<p>The engine stores a number of things that are useful to any model when it is time to make predictions on new data.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(processed<span class="op">$</span>engine)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co">#&gt; [1] "mold"       "forge"      "intercept"  "ptypes"     "formula"   </span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; [6] "indicators" "terms"</span></a></code></pre></div>
<p>For instance, the original levels and classes of the predictors are stored automatically.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">processed<span class="op">$</span>engine<span class="op">$</span>info<span class="op">$</span>predictors<span class="op">$</span>levels</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">processed<span class="op">$</span>engine<span class="op">$</span>info<span class="op">$</span>predictors<span class="op">$</span>classes</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt; NULL</span></a></code></pre></div>
<p>There is also an interface for the XY method (providing the predictors and outcome directly to <code>x</code> and <code>y</code>). The preprocessing that occurs here is minimal, but you can add an intercept to <code>x</code> with <code>intercept = TRUE</code>.</p>
<p>Notice how even though <code>y</code> is a vector, the <code>outcomes</code> slot of the return value <em>always</em> holds a tibble. Because <code>y</code> is not a data frame / matrix with existing column names, a default name of <code>".outcome"</code> is used.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">x &lt;-<span class="st"> </span>iris_train[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Species"</span>, <span class="st">"Petal.Width"</span>)]</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">y &lt;-<span class="st"> </span>iris_train<span class="op">$</span>Sepal.Length</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">processed_xy &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mold.html">mold</a></span>(x, y, <span class="dt">engine =</span> <span class="kw"><a href="../reference/default_xy_engine.html">default_xy_engine</a></span>(<span class="dt">intercept =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb8-5" data-line-number="5"></a>
<a class="sourceLine" id="cb8-6" data-line-number="6">processed_xy<span class="op">$</span>predictors</a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt; # A tibble: 100 x 3</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt;    `(Intercept)` Species Petal.Width</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="co">#&gt;            &lt;int&gt; &lt;fct&gt;         &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="co">#&gt;  1             1 setosa          0.2</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="co">#&gt;  2             1 setosa          0.2</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="co">#&gt;  3             1 setosa          0.2</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="co">#&gt;  4             1 setosa          0.2</span></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"><span class="co">#&gt;  5             1 setosa          0.2</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co">#&gt;  6             1 setosa          0.4</span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="co">#&gt;  7             1 setosa          0.3</span></a>
<a class="sourceLine" id="cb8-17" data-line-number="17"><span class="co">#&gt;  8             1 setosa          0.2</span></a>
<a class="sourceLine" id="cb8-18" data-line-number="18"><span class="co">#&gt;  9             1 setosa          0.2</span></a>
<a class="sourceLine" id="cb8-19" data-line-number="19"><span class="co">#&gt; 10             1 setosa          0.1</span></a>
<a class="sourceLine" id="cb8-20" data-line-number="20"><span class="co">#&gt; # … with 90 more rows</span></a>
<a class="sourceLine" id="cb8-21" data-line-number="21"></a>
<a class="sourceLine" id="cb8-22" data-line-number="22">processed_xy<span class="op">$</span>outcomes</a>
<a class="sourceLine" id="cb8-23" data-line-number="23"><span class="co">#&gt; # A tibble: 100 x 1</span></a>
<a class="sourceLine" id="cb8-24" data-line-number="24"><span class="co">#&gt;    .outcome</span></a>
<a class="sourceLine" id="cb8-25" data-line-number="25"><span class="co">#&gt;       &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb8-26" data-line-number="26"><span class="co">#&gt;  1      5.1</span></a>
<a class="sourceLine" id="cb8-27" data-line-number="27"><span class="co">#&gt;  2      4.9</span></a>
<a class="sourceLine" id="cb8-28" data-line-number="28"><span class="co">#&gt;  3      4.7</span></a>
<a class="sourceLine" id="cb8-29" data-line-number="29"><span class="co">#&gt;  4      4.6</span></a>
<a class="sourceLine" id="cb8-30" data-line-number="30"><span class="co">#&gt;  5      5  </span></a>
<a class="sourceLine" id="cb8-31" data-line-number="31"><span class="co">#&gt;  6      5.4</span></a>
<a class="sourceLine" id="cb8-32" data-line-number="32"><span class="co">#&gt;  7      4.6</span></a>
<a class="sourceLine" id="cb8-33" data-line-number="33"><span class="co">#&gt;  8      5  </span></a>
<a class="sourceLine" id="cb8-34" data-line-number="34"><span class="co">#&gt;  9      4.4</span></a>
<a class="sourceLine" id="cb8-35" data-line-number="35"><span class="co">#&gt; 10      4.9</span></a>
<a class="sourceLine" id="cb8-36" data-line-number="36"><span class="co">#&gt; # … with 90 more rows</span></a></code></pre></div>
<p>Finally, there is an interface for <code>recipes</code>. It calls <code><a href="https://www.rdocumentation.org/packages/recipes/topics/prep">recipes::prep()</a></code> on the recipe for you.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/message">suppressPackageStartupMessages</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(recipes))</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"></a>
<a class="sourceLine" id="cb9-3" data-line-number="3">rec &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/recipes/topics/recipe">recipe</a></span>(Sepal.Length <span class="op">~</span><span class="st"> </span>Species <span class="op">+</span><span class="st"> </span>Petal.Width, iris_train) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/recipes/topics/step_log">step_log</a></span>(Sepal.Length) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/recipes/topics/step_dummy">step_dummy</a></span>(Species)</a>
<a class="sourceLine" id="cb9-6" data-line-number="6"></a>
<a class="sourceLine" id="cb9-7" data-line-number="7">processed_rec &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mold.html">mold</a></span>(rec, iris_train)</a>
<a class="sourceLine" id="cb9-8" data-line-number="8"></a>
<a class="sourceLine" id="cb9-9" data-line-number="9">processed_rec<span class="op">$</span>predictors</a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">#&gt; # A tibble: 100 x 3</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">#&gt;    Petal.Width Species_versicolor Species_virginica</span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="co">#&gt;          &lt;dbl&gt;              &lt;dbl&gt;             &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="co">#&gt;  1         0.2                  0                 0</span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14"><span class="co">#&gt;  2         0.2                  0                 0</span></a>
<a class="sourceLine" id="cb9-15" data-line-number="15"><span class="co">#&gt;  3         0.2                  0                 0</span></a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="co">#&gt;  4         0.2                  0                 0</span></a>
<a class="sourceLine" id="cb9-17" data-line-number="17"><span class="co">#&gt;  5         0.2                  0                 0</span></a>
<a class="sourceLine" id="cb9-18" data-line-number="18"><span class="co">#&gt;  6         0.4                  0                 0</span></a>
<a class="sourceLine" id="cb9-19" data-line-number="19"><span class="co">#&gt;  7         0.3                  0                 0</span></a>
<a class="sourceLine" id="cb9-20" data-line-number="20"><span class="co">#&gt;  8         0.2                  0                 0</span></a>
<a class="sourceLine" id="cb9-21" data-line-number="21"><span class="co">#&gt;  9         0.2                  0                 0</span></a>
<a class="sourceLine" id="cb9-22" data-line-number="22"><span class="co">#&gt; 10         0.1                  0                 0</span></a>
<a class="sourceLine" id="cb9-23" data-line-number="23"><span class="co">#&gt; # … with 90 more rows</span></a></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#mold-by-example"><code><a href="--/reference/mold-html">mold()</a></code> By Example</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Davis Vaughan, Max Kuhn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
