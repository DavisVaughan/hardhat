<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Forging data for predictions • hardhat</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Forging data for predictions">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hardhat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/forge.html">Forging data for predictions</a>
    </li>
    <li>
      <a href="../articles/mold.html">Molding data for modeling</a>
    </li>
    <li>
      <a href="../articles/package.html">package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/DavisVaughan/hardhat">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Forging data for predictions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DavisVaughan/hardhat/blob/master/vignettes/forge.Rmd"><code>vignettes/forge.Rmd</code></a></small>
      <div class="hidden name"><code>forge.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(hardhat)</a></code></pre></div>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>The counterpart to <code><a href="../reference/mold.html">mold()</a></code>, which you can read all about in <code><a href="../articles/mold.html">vignette("mold", "hardhat")</a></code>, is <code><a href="../reference/forge.html">forge()</a></code>. Where <code><a href="../reference/mold.html">mold()</a></code> is used to preprocess your training data, <code><a href="../reference/forge.html">forge()</a></code> is used to preprocess new data that you are going to use to generate predictions from your model.</p>
<p>Like <code><a href="../reference/mold.html">mold()</a></code>, <code><a href="../reference/forge.html">forge()</a></code> is not intended to be used interactively. Instead, it should be called from the <code><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict()</a></code> method for your model. To learn more about using <code><a href="../reference/forge.html">forge()</a></code> in a modeling package, see <code><a href="../articles/package.html">vignette("package", "hardhat")</a></code>. The rest of this vignette will be focused on the many features the <code><a href="../reference/forge.html">forge()</a></code> offers.</p>
</div>
<div id="connection-with-mold" class="section level2">
<h2 class="hasAnchor">
<a href="#connection-with-mold" class="anchor"></a>Connection with <code><a href="../reference/mold.html">mold()</a></code>
</h2>
<p>When <code><a href="../reference/mold.html">mold()</a></code> is used, one of the returned objects is an <code>engine</code>. This is the key to preprocessing new data with <code><a href="../reference/forge.html">forge()</a></code>. For instance, assume you’ve called <code><a href="../reference/mold.html">mold()</a></code> like so:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">iris_train &lt;-<span class="st"> </span>iris[<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>,]</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">iris_test &lt;-<span class="st"> </span>iris[<span class="dv">101</span><span class="op">:</span><span class="dv">150</span>,]</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">iris_form &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mold.html">mold</a></span>(</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Log">log</a></span>(Sepal.Length) <span class="op">~</span><span class="st"> </span>Species <span class="op">+</span><span class="st"> </span>Petal.Width, </a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  iris_train, </a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="dt">engine =</span> <span class="kw"><a href="../reference/default_formula_engine.html">default_formula_engine</a></span>(<span class="dt">indicators =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">formula_eng &lt;-<span class="st"> </span>iris_form<span class="op">$</span>engine</a>
<a class="sourceLine" id="cb3-8" data-line-number="8"></a>
<a class="sourceLine" id="cb3-9" data-line-number="9">formula_eng</a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt; Formula Engine: </span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;  </span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt; # Predictors: 2 </span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt;   # Outcomes: 1 </span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt;    Intercept: FALSE </span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt;   Indicators: FALSE</span></a></code></pre></div>
<p>A formula engine is returned here, which knows about the predictors and outcomes that were used at training time, and knows that you don’t want to expand <code>Species</code> into dummy variables by setting <code>indicators = FALSE</code>.</p>
<p>When it comes time to make predictions, the first thing that you should do inside your <code><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict()</a></code> method is pass the user supplied data to <code><a href="../reference/forge.html">forge()</a></code>, along with the <code>engine</code> that was attached to the model object. This will preprocess the <code>new_data</code> using the same steps specified when the model was being trained. Since we can’t recreate that full fit+predict workflow in this simple example, let’s just use <code>iris_test</code> as our new data, and the engine we created above.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="../reference/forge.html">forge</a></span>(iris_test, formula_eng)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#&gt; $predictors</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt; # A tibble: 50 x 2</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt;    Petal.Width Species  </span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt;          &lt;dbl&gt; &lt;fct&gt;    </span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt;  1         2.5 virginica</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt;  2         1.9 virginica</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt;  3         2.1 virginica</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt;  4         1.8 virginica</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt;  5         2.2 virginica</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt;  6         2.1 virginica</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt;  7         1.7 virginica</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt;  8         1.8 virginica</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt;  9         1.8 virginica</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt; 10         2.5 virginica</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt; # … with 40 more rows</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co">#&gt; $outcomes</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-21" data-line-number="21"><span class="co">#&gt; $extras</span></a>
<a class="sourceLine" id="cb4-22" data-line-number="22"><span class="co">#&gt; $extras$offset</span></a>
<a class="sourceLine" id="cb4-23" data-line-number="23"><span class="co">#&gt; NULL</span></a></code></pre></div>
<p>Note that in <code>predictors</code>, <code>Species</code> was not expanded because the <code>engine</code> knew about the preprocessing options that were set when <code><a href="../reference/mold.html">mold()</a></code> was called.</p>
<p><code><a href="../reference/forge.html">forge()</a></code> always returns three things, and they should look familiar to you if you have used <code><a href="../reference/mold.html">mold()</a></code>.</p>
<ul>
<li><p><code>predictors</code> holds a tibble of the predictors.</p></li>
<li><p><code>outcomes</code> is returned as <code>NULL</code> by default, because most <code><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict()</a></code> methods assume you only have access to the new predictors. Alternatively, this might contain a tibble of the new outcomes.</p></li>
<li><p><code>extras</code> varies per engine, but is a catch-all slot to hold the same kind of extra objects that were returned by the engine when <code><a href="../reference/mold.html">mold()</a></code> was called.</p></li>
</ul>
</div>
<div id="outcomes" class="section level2">
<h2 class="hasAnchor">
<a href="#outcomes" class="anchor"></a>Outcomes</h2>
<p>Generally when generating predictions you only need to know about the new predictors. However, when performing resampling you will need to have the processed outcomes as well so you can compute cross validated performance statistics and decide between multiple models, or choose between hyperparameters.</p>
<p>You can easily request the outcomes as well with <code>outcomes = TRUE</code>. Just like with the predictors, these get processed using the same steps as done to the outcomes at fit time.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../reference/forge.html">forge</a></span>(iris_test, formula_eng, <span class="dt">outcomes =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co">#&gt; $predictors</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">#&gt; # A tibble: 50 x 2</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt;    Petal.Width Species  </span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt;          &lt;dbl&gt; &lt;fct&gt;    </span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt;  1         2.5 virginica</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt;  2         1.9 virginica</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt;  3         2.1 virginica</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt;  4         1.8 virginica</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt;  5         2.2 virginica</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt;  6         2.1 virginica</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt;  7         1.7 virginica</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt;  8         1.8 virginica</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt;  9         1.8 virginica</span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt; 10         2.5 virginica</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt; # … with 40 more rows</span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co">#&gt; $outcomes</span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co">#&gt; # A tibble: 50 x 1</span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="co">#&gt;    `log(Sepal.Length)`</span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"><span class="co">#&gt;                  &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="co">#&gt;  1                1.84</span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="co">#&gt;  2                1.76</span></a>
<a class="sourceLine" id="cb5-24" data-line-number="24"><span class="co">#&gt;  3                1.96</span></a>
<a class="sourceLine" id="cb5-25" data-line-number="25"><span class="co">#&gt;  4                1.84</span></a>
<a class="sourceLine" id="cb5-26" data-line-number="26"><span class="co">#&gt;  5                1.87</span></a>
<a class="sourceLine" id="cb5-27" data-line-number="27"><span class="co">#&gt;  6                2.03</span></a>
<a class="sourceLine" id="cb5-28" data-line-number="28"><span class="co">#&gt;  7                1.59</span></a>
<a class="sourceLine" id="cb5-29" data-line-number="29"><span class="co">#&gt;  8                1.99</span></a>
<a class="sourceLine" id="cb5-30" data-line-number="30"><span class="co">#&gt;  9                1.90</span></a>
<a class="sourceLine" id="cb5-31" data-line-number="31"><span class="co">#&gt; 10                1.97</span></a>
<a class="sourceLine" id="cb5-32" data-line-number="32"><span class="co">#&gt; # … with 40 more rows</span></a>
<a class="sourceLine" id="cb5-33" data-line-number="33"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-34" data-line-number="34"><span class="co">#&gt; $extras</span></a>
<a class="sourceLine" id="cb5-35" data-line-number="35"><span class="co">#&gt; $extras$offset</span></a>
<a class="sourceLine" id="cb5-36" data-line-number="36"><span class="co">#&gt; NULL</span></a></code></pre></div>
</div>
<div id="validation" class="section level2">
<h2 class="hasAnchor">
<a href="#validation" class="anchor"></a>Validation</h2>
<p>One of the most useful things about <code><a href="../reference/forge.html">forge()</a></code> is its robustness against malformed new data. It isn’t unreasonable to enforce that the new data a user provides at prediction time should have the same <em>type</em> as the data used at fit time. <em>Type</em> is defined in the <a href="https://vctrs.r-lib.org/articles/type-size.html">vctrs</a> sense, and for our uses essentially means that a number of checks on the testing data have to pass, including:</p>
<ul>
<li><p>The column names of the training data and testing data must be the same.</p></li>
<li>
<p>The <em>type</em> of each column of the training data must be the same as the columns found in the testing data. This means:</p>
<ul>
<li><p>The classes must be the same (e.g. if it was a factor in training, it must be a factor in testing).</p></li>
<li><p>The attributes must also be the same (e.g. the levels of the factors must also be the same).</p></li>
</ul>
</li>
</ul>
<p>Almost all of this validation is possible through the use of <code><a href="https://www.rdocumentation.org/packages/vctrs/topics/vec_cast">vctrs::vec_cast()</a></code>, and is called for you by <code><a href="../reference/forge.html">forge()</a></code>.</p>
<div id="column-existance" class="section level3">
<h3 class="hasAnchor">
<a href="#column-existance" class="anchor"></a>Column existance</h3>
<p>The easiest example to demonstrate is missing columns in the testing data. <code><a href="../reference/forge.html">forge()</a></code> won’t let you continue until all of the required predictors used at training are also present in the new data.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">test_missing_column &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/subset">subset</a></span>(iris_test, <span class="dt">select =</span> <span class="op">-</span>Species)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="kw"><a href="../reference/forge.html">forge</a></span>(test_missing_column, formula_eng)</a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt; Warning: Invalid `rlang__backtrace_on_error` option (resetting to `NULL`)</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; Error: The following required columns are missing: 'Species'.</span></a></code></pre></div>
</div>
<div id="column-types" class="section level3">
<h3 class="hasAnchor">
<a href="#column-types" class="anchor"></a>Column types</h3>
<p>After an initial scan for the column names is done, a deeper scan of each column is performed, checking the type of that column. For instance, what happens if the new <code>Species</code> column was a double, not a factor?</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">test_species_double &lt;-<span class="st"> </span>iris_test</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">test_species_double<span class="op">$</span>Species &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/double">as.double</a></span>(test_species_double<span class="op">$</span>Species)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="kw"><a href="../reference/forge.html">forge</a></span>(test_species_double, formula_eng)</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt; Error: Can't cast &lt;double&gt; to &lt;factor&lt;12d60&gt;&gt;</span></a></code></pre></div>
<p>An error is thrown, indicating that a double can’t be cast to a factor.</p>
</div>
<div id="lossless-conversion" class="section level3">
<h3 class="hasAnchor">
<a href="#lossless-conversion" class="anchor"></a>Lossless conversion</h3>
<p>The error message above suggests that in some cases you <em>can</em> automatically cast from one type to another, and in fact that is true! Rather than being a double, what if <code>Species</code> was just a character?</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">test_species_character &lt;-<span class="st"> </span>iris_test</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">test_species_character<span class="op">$</span>Species &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/character">as.character</a></span>(test_species_character<span class="op">$</span>Species)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">forged_char &lt;-<span class="st"> </span><span class="kw"><a href="../reference/forge.html">forge</a></span>(test_species_character, formula_eng)</a>
<a class="sourceLine" id="cb8-5" data-line-number="5"></a>
<a class="sourceLine" id="cb8-6" data-line-number="6">forged_char<span class="op">$</span>predictors</a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt; # A tibble: 50 x 2</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt;    Petal.Width Species  </span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="co">#&gt;          &lt;dbl&gt; &lt;fct&gt;    </span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="co">#&gt;  1         2.5 virginica</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="co">#&gt;  2         1.9 virginica</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="co">#&gt;  3         2.1 virginica</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="co">#&gt;  4         1.8 virginica</span></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"><span class="co">#&gt;  5         2.2 virginica</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co">#&gt;  6         2.1 virginica</span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="co">#&gt;  7         1.7 virginica</span></a>
<a class="sourceLine" id="cb8-17" data-line-number="17"><span class="co">#&gt;  8         1.8 virginica</span></a>
<a class="sourceLine" id="cb8-18" data-line-number="18"><span class="co">#&gt;  9         1.8 virginica</span></a>
<a class="sourceLine" id="cb8-19" data-line-number="19"><span class="co">#&gt; 10         2.5 virginica</span></a>
<a class="sourceLine" id="cb8-20" data-line-number="20"><span class="co">#&gt; # … with 40 more rows</span></a>
<a class="sourceLine" id="cb8-21" data-line-number="21"></a>
<a class="sourceLine" id="cb8-22" data-line-number="22"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/class">class</a></span>(forged_char<span class="op">$</span>predictors<span class="op">$</span>Species)</a>
<a class="sourceLine" id="cb8-23" data-line-number="23"><span class="co">#&gt; [1] "factor"</span></a>
<a class="sourceLine" id="cb8-24" data-line-number="24"></a>
<a class="sourceLine" id="cb8-25" data-line-number="25"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/levels">levels</a></span>(forged_char<span class="op">$</span>predictors<span class="op">$</span>Species)</a>
<a class="sourceLine" id="cb8-26" data-line-number="26"><span class="co">#&gt; [1] "setosa"     "versicolor" "virginica"</span></a></code></pre></div>
<p>Interesting, so in this case we can actually convert to a factor, and the class and even the levels are all restored. The key here is that this was a <em>lossless</em> conversion. We lost no information when converting the character <code>Species</code> to a factor because the unique character values were a subset of the original levels.</p>
<p>An example of a conversion that would be lossy is if the character <code>Species</code> column had a value that was <em>not</em> a level in the training data.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">test_species_lossy &lt;-<span class="st"> </span>iris_test</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">test_species_lossy<span class="op">$</span>Species &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/character">as.character</a></span>(test_species_lossy<span class="op">$</span>Species)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">test_species_lossy<span class="op">$</span>Species[<span class="dv">2</span>] &lt;-<span class="st"> "im new!"</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"></a>
<a class="sourceLine" id="cb9-5" data-line-number="5">forged_lossy &lt;-<span class="st"> </span><span class="kw"><a href="../reference/forge.html">forge</a></span>(test_species_lossy, formula_eng)</a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">#&gt; Warning: Lossy cast from &lt;character&gt; to &lt;factor&lt;12d60&gt;&gt;.</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">#&gt; Locations: 2</span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"></a>
<a class="sourceLine" id="cb9-9" data-line-number="9">forged_lossy<span class="op">$</span>predictors</a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">#&gt; # A tibble: 50 x 2</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">#&gt;    Petal.Width Species  </span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="co">#&gt;          &lt;dbl&gt; &lt;fct&gt;    </span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="co">#&gt;  1         2.5 virginica</span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14"><span class="co">#&gt;  2         1.9 &lt;NA&gt;     </span></a>
<a class="sourceLine" id="cb9-15" data-line-number="15"><span class="co">#&gt;  3         2.1 virginica</span></a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="co">#&gt;  4         1.8 virginica</span></a>
<a class="sourceLine" id="cb9-17" data-line-number="17"><span class="co">#&gt;  5         2.2 virginica</span></a>
<a class="sourceLine" id="cb9-18" data-line-number="18"><span class="co">#&gt;  6         2.1 virginica</span></a>
<a class="sourceLine" id="cb9-19" data-line-number="19"><span class="co">#&gt;  7         1.7 virginica</span></a>
<a class="sourceLine" id="cb9-20" data-line-number="20"><span class="co">#&gt;  8         1.8 virginica</span></a>
<a class="sourceLine" id="cb9-21" data-line-number="21"><span class="co">#&gt;  9         1.8 virginica</span></a>
<a class="sourceLine" id="cb9-22" data-line-number="22"><span class="co">#&gt; 10         2.5 virginica</span></a>
<a class="sourceLine" id="cb9-23" data-line-number="23"><span class="co">#&gt; # … with 40 more rows</span></a></code></pre></div>
<p>In this case:</p>
<ul>
<li><p>A lossy warning is thrown</p></li>
<li><p>The <code>Species</code> column is still converted to a factor with the right levels</p></li>
<li><p>The novel level is removed and its value is set to <code>NA</code></p></li>
</ul>
</div>
</div>
<div id="recipes-and-forge" class="section level2">
<h2 class="hasAnchor">
<a href="#recipes-and-forge" class="anchor"></a>Recipes and <code><a href="../reference/forge.html">forge()</a></code>
</h2>
<p>TODO - Finish me</p>
<p>Just like with the formula method, recipes can be used as the preprocessor at fit and prediction time.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(recipes)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co">#&gt; Loading required package: dplyr</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co">#&gt; Attaching package: 'dplyr'</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co">#&gt; The following objects are masked from 'package:stats':</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">#&gt;     filter, lag</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt; The following objects are masked from 'package:base':</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">#&gt;     intersect, setdiff, setequal, union</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="co">#&gt; Attaching package: 'recipes'</span></a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="co">#&gt; The following object is masked from 'package:stats':</span></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-15" data-line-number="15"><span class="co">#&gt;     step</span></a>
<a class="sourceLine" id="cb10-16" data-line-number="16"></a>
<a class="sourceLine" id="cb10-17" data-line-number="17">rec &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/recipes/topics/recipe">recipe</a></span>(Sepal.Width <span class="op">~</span><span class="st"> </span>Sepal.Length <span class="op">+</span><span class="st"> </span>Species, iris_train) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-18" data-line-number="18"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/recipes/topics/step_dummy">step_dummy</a></span>(Species)</a>
<a class="sourceLine" id="cb10-19" data-line-number="19"></a>
<a class="sourceLine" id="cb10-20" data-line-number="20">iris_recipe &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mold.html">mold</a></span>(rec, iris_train)</a>
<a class="sourceLine" id="cb10-21" data-line-number="21"></a>
<a class="sourceLine" id="cb10-22" data-line-number="22">recipe_eng &lt;-<span class="st"> </span>iris_recipe<span class="op">$</span>engine</a>
<a class="sourceLine" id="cb10-23" data-line-number="23"></a>
<a class="sourceLine" id="cb10-24" data-line-number="24">recipe_eng</a>
<a class="sourceLine" id="cb10-25" data-line-number="25"><span class="co">#&gt; Recipe Engine: </span></a>
<a class="sourceLine" id="cb10-26" data-line-number="26"><span class="co">#&gt;  </span></a>
<a class="sourceLine" id="cb10-27" data-line-number="27"><span class="co">#&gt; # Predictors: 2 </span></a>
<a class="sourceLine" id="cb10-28" data-line-number="28"><span class="co">#&gt;   # Outcomes: 1 </span></a>
<a class="sourceLine" id="cb10-29" data-line-number="29"><span class="co">#&gt;    Intercept: FALSE</span></a></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">iris_test_no_outcome &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/subset">subset</a></span>(iris_test, <span class="dt">select =</span> <span class="op">-</span>Sepal.Width)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="kw"><a href="../reference/forge.html">forge</a></span>(iris_test_no_outcome, recipe_eng)</a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">#&gt; $predictors</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt; # A tibble: 50 x 3</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt;    Sepal.Length Species_versicolor Species_virginica</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt;           &lt;dbl&gt;              &lt;dbl&gt;             &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt;  1          6.3                  0                 1</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt;  2          5.8                  0                 1</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt;  3          7.1                  0                 1</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="co">#&gt;  4          6.3                  0                 1</span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co">#&gt;  5          6.5                  0                 1</span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="co">#&gt;  6          7.6                  0                 1</span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14"><span class="co">#&gt;  7          4.9                  0                 1</span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="co">#&gt;  8          7.3                  0                 1</span></a>
<a class="sourceLine" id="cb11-16" data-line-number="16"><span class="co">#&gt;  9          6.7                  0                 1</span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17"><span class="co">#&gt; 10          7.2                  0                 1</span></a>
<a class="sourceLine" id="cb11-18" data-line-number="18"><span class="co">#&gt; # … with 40 more rows</span></a>
<a class="sourceLine" id="cb11-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-20" data-line-number="20"><span class="co">#&gt; $outcomes</span></a>
<a class="sourceLine" id="cb11-21" data-line-number="21"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb11-22" data-line-number="22"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-23" data-line-number="23"><span class="co">#&gt; $extras</span></a>
<a class="sourceLine" id="cb11-24" data-line-number="24"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb11-25" data-line-number="25"></a>
<a class="sourceLine" id="cb11-26" data-line-number="26"><span class="kw"><a href="../reference/forge.html">forge</a></span>(iris_test_no_outcome, recipe_eng, <span class="dt">outcomes =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb11-27" data-line-number="27"><span class="co">#&gt; Error: The following required columns are missing: 'Sepal.Width'.</span></a></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">rec2 &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/recipes/topics/recipe">recipe</a></span>(Sepal.Width <span class="op">~</span><span class="st"> </span>Sepal.Length <span class="op">+</span><span class="st"> </span>Species, iris_train) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/recipes/topics/step_dummy">step_dummy</a></span>(Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/recipes/topics/step_log">step_log</a></span>(Sepal.Width)</a>
<a class="sourceLine" id="cb12-4" data-line-number="4"></a>
<a class="sourceLine" id="cb12-5" data-line-number="5">iris_recipe2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mold.html">mold</a></span>(rec2, iris_train)</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">recipe_eng_log_outcome &lt;-<span class="st"> </span>iris_recipe2<span class="op">$</span>engine</a></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="co"># this works? this is a recipe bug it should error</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="kw"><a href="../reference/forge.html">forge</a></span>(iris_test_no_outcome, recipe_eng_log_outcome)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="co">#&gt; $predictors</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">#&gt; # A tibble: 50 x 3</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">#&gt;    Sepal.Length Species_versicolor Species_virginica</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">#&gt;           &lt;dbl&gt;              &lt;dbl&gt;             &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#&gt;  1          6.3                  0                 1</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">#&gt;  2          5.8                  0                 1</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">#&gt;  3          7.1                  0                 1</span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">#&gt;  4          6.3                  0                 1</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">#&gt;  5          6.5                  0                 1</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt;  6          7.6                  0                 1</span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="co">#&gt;  7          4.9                  0                 1</span></a>
<a class="sourceLine" id="cb13-14" data-line-number="14"><span class="co">#&gt;  8          7.3                  0                 1</span></a>
<a class="sourceLine" id="cb13-15" data-line-number="15"><span class="co">#&gt;  9          6.7                  0                 1</span></a>
<a class="sourceLine" id="cb13-16" data-line-number="16"><span class="co">#&gt; 10          7.2                  0                 1</span></a>
<a class="sourceLine" id="cb13-17" data-line-number="17"><span class="co">#&gt; # … with 40 more rows</span></a>
<a class="sourceLine" id="cb13-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-19" data-line-number="19"><span class="co">#&gt; $outcomes</span></a>
<a class="sourceLine" id="cb13-20" data-line-number="20"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb13-21" data-line-number="21"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-22" data-line-number="22"><span class="co">#&gt; $extras</span></a>
<a class="sourceLine" id="cb13-23" data-line-number="23"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb13-24" data-line-number="24"></a>
<a class="sourceLine" id="cb13-25" data-line-number="25"><span class="kw"><a href="../reference/forge.html">forge</a></span>(iris_test_no_outcome, recipe_eng_log_outcome, <span class="dt">outcomes =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb13-26" data-line-number="26"><span class="co">#&gt; Error: The following required columns are missing: 'Sepal.Width'.</span></a></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">rec3 &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/recipes/topics/recipe">recipe</a></span>(Sepal.Width <span class="op">~</span><span class="st"> </span>Sepal.Length <span class="op">+</span><span class="st"> </span>Species, iris_train) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/recipes/topics/step_dummy">step_dummy</a></span>(Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/recipes/topics/step_log">step_log</a></span>(Sepal.Width, <span class="dt">skip =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb14-4" data-line-number="4"></a>
<a class="sourceLine" id="cb14-5" data-line-number="5">iris_recipe3 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mold.html">mold</a></span>(rec3, iris_train)</a>
<a class="sourceLine" id="cb14-6" data-line-number="6"></a>
<a class="sourceLine" id="cb14-7" data-line-number="7">recipe_eng_skip_outcome &lt;-<span class="st"> </span>iris_recipe3<span class="op">$</span>engine</a></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw"><a href="../reference/forge.html">forge</a></span>(iris_test_no_outcome, recipe_eng_skip_outcome)</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="co">#&gt; $predictors</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co">#&gt; # A tibble: 50 x 3</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">#&gt;    Sepal.Length Species_versicolor Species_virginica</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">#&gt;           &lt;dbl&gt;              &lt;dbl&gt;             &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#&gt;  1          6.3                  0                 1</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt;  2          5.8                  0                 1</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">#&gt;  3          7.1                  0                 1</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">#&gt;  4          6.3                  0                 1</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">#&gt;  5          6.5                  0                 1</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">#&gt;  6          7.6                  0                 1</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">#&gt;  7          4.9                  0                 1</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">#&gt;  8          7.3                  0                 1</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#&gt;  9          6.7                  0                 1</span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">#&gt; 10          7.2                  0                 1</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">#&gt; # … with 40 more rows</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">#&gt; $outcomes</span></a>
<a class="sourceLine" id="cb15-19" data-line-number="19"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb15-20" data-line-number="20"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-21" data-line-number="21"><span class="co">#&gt; $extras</span></a>
<a class="sourceLine" id="cb15-22" data-line-number="22"><span class="co">#&gt; NULL</span></a></code></pre></div>
</div>
<div id="appendix-vector-outcomes" class="section level2">
<h2 class="hasAnchor">
<a href="#appendix-vector-outcomes" class="anchor"></a>Appendix: Vector outcomes</h2>
<p>TODO - Finish me</p>
<p>There is one special case of</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#connection-with-mold">Connection with <code><a href="--/reference/mold-html">mold()</a></code></a></li>
      <li><a href="#outcomes">Outcomes</a></li>
      <li><a href="#validation">Validation</a></li>
      <li><a href="#recipes-and-forge">Recipes and <code><a href="--/reference/forge-html">forge()</a></code></a></li>
      <li><a href="#appendix-vector-outcomes">Appendix: Vector outcomes</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Davis Vaughan, Max Kuhn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
